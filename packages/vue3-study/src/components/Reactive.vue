<template>
  <h2>Reactive</h2>
  <p>count: {{ count }}</p>
  <p>numeral: {{ numeral }}</p>
  <p style="color: orange">like: {{ like }} ğŸŠ</p>
  <p>set: {{ set }}</p>
  <p>map: {{ map }}</p>
  <p>fnc: {{ fnc.value }}</p>
</template>

<script setup>
import { ref, reactive } from 'vue';

/**
 * å®šä¹‰å“åº”å¼æ•°æ®çš„ä¸¤ç§æ–¹å¼ï¼š
 *  ref: ç”¨äºå®šä¹‰åŸºæœ¬ç±»å‹å€¼
 *  reactive: ç”¨äºå®šä¹‰å¼•ç”¨ç±»å‹å€¼
 *
 *  reactiveå¯ç”¨äºå®šä¹‰å¯¹è±¡ã€æ•°ç»„ã€mapã€setã€å‡½æ•°ï¼Œæ— è®ºå±æ€§æ˜¯å¦äº‹å…ˆå­˜åœ¨ï¼Œéƒ½èƒ½è§¦å‘è§†å›¾æ›´æ–°
 */
const count = ref(0);
const numeral = reactive([]);
const like = reactive({});
const set = reactive(new Set([]));
const map = reactive(new Map([['name', 'LiuYuGe']]));
const fnc = reactive(function () {});

setTimeout(() => {
  // ä¿®æ”¹å¯¹è±¡
  like.name = 'LiuYuGe';
  like.age = 21;
  // ä¿®æ”¹map
  map.set('age', 21);
  // ä¿®æ”¹å‡½æ•°
  fnc.value = 'value';
}, 1000);

setInterval(() => {
  // refå€¼éœ€è¦é€šè¿‡.valueè®¿é—®
  count.value++;
  // reactiveå€¼å¯ä»¥ç›´æ¥è®¿é—®
  if (numeral.length < 10) numeral.push(numeral.length);
  // ä¿®æ”¹set
  if (set.size < 10) set.add(set.size);
}, 1000);
</script>

<style scoped>
p {
  margin-bottom: 6px;
}
</style>
